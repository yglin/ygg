<div class="treasure-edit">
  <mat-vertical-stepper linear #stepper>
    <mat-step [stepControl]="formGroupName">
      <ng-template matStepLabel>寶物名稱</ng-template>
      <form [formGroup]="formGroupName">
        <div class="name control">
          <ygg-text-control
            formControlName="name"
            placeholder="請輸入寶物的名稱"
          ></ygg-text-control>
        </div>
      </form>
      <div>
        <button mat-button matStepperNext class="next-step">下一步</button>
      </div>
    </mat-step>
    <mat-step [stepControl]="formGroupAlbum">
      <ng-template matStepLabel>寶物照片</ng-template>
      <form [formGroup]="formGroupAlbum">
        <div class="album control">
          <ygg-album-control formControlName="album"></ygg-album-control>
        </div>
      </form>
      <div>
        <button mat-button matStepperPrevious class="previous-step">
          上一步
        </button>
        <button mat-button matStepperNext class="next-step">下一步</button>
        <!-- <button mat-button matStepperNext class="next-step">下一步</button> -->
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>供給方式</ng-template>
      <div class="provision-selector" [formGroup]="formGroupProvision">
        <br /><br />
        <div fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="20px">
          <div style="margin-bottom: 30px;">
            <mat-form-field>
              <mat-label>供給方式</mat-label>
              <mat-select formControlName="provision">
                <mat-select-trigger>
                  <ng-container
                    *ngIf="selectedProvision; else noSelectedProvisionTemplate"
                  >
                    <ourbox-provision-label
                      [value]="selectedProvision"
                    ></ourbox-provision-label>
                  </ng-container>
                  <ng-template #noSelectedProvisionTemplate>
                    請選擇供給方式
                  </ng-template>
                </mat-select-trigger>
                <mat-option *ngFor="let p of provisions" [value]="p.value">
                  <ourbox-provision-label [value]="p"></ourbox-provision-label>
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div [hidden]="!isProvisionSale" class="price-input">
            <ygg-number-control formControlName="price" label='售價'></ygg-number-control>
          </div>
        </div>
      </div>
      <div>
        <button mat-button matStepperPrevious class="previous-step">
          上一步
        </button>
        <button mat-button matStepperNext class="next-step">下一步</button>
        <!-- <button mat-button matStepperNext class="next-step">下一步</button> -->
      </div>
    </mat-step>
    <mat-step [stepControl]="formGroupTags">
      <ng-template matStepLabel>寶物標籤</ng-template>
      <form [formGroup]="formGroupTags">
        <div class="tags-control control">
          <ygg-tags-control formControlName="tags"></ygg-tags-control>
        </div>
      </form>
      <div>
        <button mat-button matStepperPrevious class="previous-step">
          上一步
        </button>
        <button mat-button matStepperNext (click)="submit()" class="submit">
          完成送出
        </button>
        <!-- <button mat-button matStepperNext class="next-step">下一步</button> -->
      </div>
    </mat-step>
    <!-- <mat-step [stepControl]="formGroupStep3">
      <ng-template matStepLabel>寶物所在地</ng-template>
      <form [formGroup]="formGroupStep3">
        <div class="location control">
          <ygg-location-control
            formControlName="location"
          ></ygg-location-control>
        </div>
      </form>
      <div>
        <button mat-button matStepperPrevious class="previous-step">
          上一步
        </button>
        <button mat-button matStepperNext (click)="submit()" class="submit">
          完成送出
        </button>
      </div>
    </mat-step> -->
  </mat-vertical-stepper>
</div>
