<div class="account-widget">
  <div *ngIf="user && !isLoggingIn" class="logged-in">
    <div
      fxLayout="row"
      fxLayoutAlign="end center"
      fxLayoutGap="10px"
      class="user-account"
    >
      <ygg-user-menu>
        <ygg-user-thumbnail
          [id]="user.id"
          [showName]="!isViewPortXSmall"
        ></ygg-user-thumbnail>
      </ygg-user-menu>
      <div class="notification" [hidden]="!numNotifications">
        <button mat-mini-fab color="warn" (click)="gotoMyNotifications()">
          {{ numNotifications }}
        </button>
      </div>
      <!--
        <ygg-user-thumbnail [user]='currentUser' [matMenuTriggerFor]="userMenu"></ygg-user-thumbnail>
        <mat-menu #userMenu='matMenu'>
          <button mat-menu-item [routerLink]="[ 'users', currentUser.id ]"><mat-icon>account_box</mat-icon>基本資料</button>
          <button mat-menu-item routerLink="/my-specialties"><mat-icon>school</mat-icon>我的專長</button>
          <button mat-menu-item routerLink="/my-plays"><mat-icon>directions_bike</mat-icon>我的體驗</button>
          <button mat-menu-item routerLink="/my-travels"><mat-icon>nature_people</mat-icon>我的遊程</button>
          <button mat-menu-item routerLink="/my-events"><mat-icon>event</mat-icon>我的事件</button>
          <button mat-menu-item routerLink="/admin" [hidden]='!isAdmin'><mat-icon>build</mat-icon>平台管理</button>
        </mat-menu>
      <div><button mat-button (click)="logout()">登出</button></div>
      -->
    </div>
  </div>
  <div *ngIf="!user && !isLoggingIn" class="logged-out">
    <button class="login" mat-button (click)="login()">
      登入<mat-icon>login</mat-icon>
    </button>
  </div>
  <div *ngIf="isLoggingIn">
    <mat-spinner mode="indeterminate" [diameter]="30"> </mat-spinner>
  </div>
</div>
